import{c as W,Y as P,b as Y,aI as oe,d as A,ah as ie,K as N,aM as Q,a as f,W as se,t as y,ao as ue,T as w,ar as ce,m as q,w as G,ag as B,G as E,X as J,a6 as re,ad as K,aR as ee,Z as z,Q as de,aU as fe,aa as H,aV as me,r as he,aW as ge,ab as be,aX as ve,an as Se}from"./_plugin-vue_export-helper-d298c33c.js";import{f as Z,v as X,H as te,l as ne,m as xe,I as ke,e as Ce}from"./index-7f6e4180.js";import{c as Pe,s as Te}from"./Checker-d780b0fb.js";import{B as Ve}from"./index-7404f0cb.js";import{u as ye}from"./use-placeholder-23eb8df0.js";const[ae,Be]=W("checkbox-group"),we={max:P,shape:Y("round"),disabled:Boolean,iconSize:P,direction:String,modelValue:oe(),checkedColor:String},le=Symbol(ae);var Ie=A({name:ae,props:we,emits:["change","update:modelValue"],setup(e,{emit:u,slots:s}){const{children:c,linkChildren:m}=ie(le),g=n=>u("update:modelValue",n),a=(n={})=>{typeof n=="boolean"&&(n={checked:n});const{checked:h,skipDisabled:v}=n,i=c.filter(r=>r.props.bindGroup?r.props.disabled&&v?r.checked.value:h??!r.checked.value:!1).map(r=>r.name);g(i)};return N(()=>e.modelValue,n=>u("change",n)),Z({toggleAll:a}),Q(()=>e.modelValue),m({props:e,updateValue:g}),()=>{var n;return f("div",{class:Be([e.direction])},[(n=s.default)==null?void 0:n.call(s)])}}});const[_e,Ee]=W("checkbox"),$e=se({},Pe,{shape:String,bindGroup:y,indeterminate:{type:Boolean,default:null}});var Le=A({name:_e,props:$e,emits:["change","update:modelValue"],setup(e,{emit:u,slots:s}){const{parent:c}=ue(le),m=n=>{const{name:h}=e,{max:v,modelValue:o}=c.props,i=o.slice();if(n)!(v&&i.length>=+v)&&!i.includes(h)&&(i.push(h),e.bindGroup&&c.updateValue(i));else{const r=i.indexOf(h);r!==-1&&(i.splice(r,1),e.bindGroup&&c.updateValue(i))}},g=w(()=>c&&e.bindGroup?c.props.modelValue.indexOf(e.name)!==-1:!!e.modelValue),a=(n=!g.value)=>{c&&e.bindGroup?m(n):u("update:modelValue",n),e.indeterminate!==null&&u("change",n)};return N(()=>e.modelValue,n=>{e.indeterminate===null&&u("change",n)}),Z({toggle:a,props:e,checked:g}),Q(()=>e.modelValue),()=>f(Te,q({bem:Ee,role:"checkbox",parent:c,checked:g.value,onToggle:a},e),ce(s,["default","icon"]))}});const qe=G(Le),Qe=G(Ie),[Ne,D]=W("stepper"),We=200,O=(e,u)=>String(e)===String(u),Ae={min:B(1),max:B(1/0),name:B(""),step:B(1),theme:String,integer:Boolean,disabled:Boolean,showPlus:y,showMinus:y,showInput:y,longPress:y,autoFixed:y,allowEmpty:Boolean,modelValue:P,inputWidth:P,buttonSize:P,placeholder:String,disablePlus:Boolean,disableMinus:Boolean,disableInput:Boolean,beforeChange:Function,defaultValue:B(1),decimalLength:P};var Ge=A({name:Ne,props:Ae,emits:["plus","blur","minus","focus","change","overlimit","update:modelValue"],setup(e,{emit:u}){const s=(t,l=!0)=>{const{min:d,max:_,allowEmpty:b,decimalLength:F}=e;return b&&t===""||(t=ee(String(t),!e.integer),t=t===""?0:+t,t=Number.isNaN(t)?+d:t,t=l?Math.max(Math.min(+_,t),+d):t,z(F)&&(t=t.toFixed(+F))),t},c=()=>{var t;const l=(t=e.modelValue)!=null?t:e.defaultValue,d=s(l);return O(d,e.modelValue)||u("update:modelValue",d),d};let m;const g=E(),a=E(c()),n=w(()=>e.disabled||e.disableMinus||+a.value<=+e.min),h=w(()=>e.disabled||e.disablePlus||+a.value>=+e.max),v=w(()=>({width:J(e.inputWidth),height:J(e.buttonSize)})),o=w(()=>re(e.buttonSize)),i=()=>{const t=s(a.value);O(t,a.value)||(a.value=t)},r=t=>{e.beforeChange?ne(e.beforeChange,{args:[t],done(){a.value=t}}):a.value=t},x=()=>{if(m==="plus"&&h.value||m==="minus"&&n.value){u("overlimit",m);return}const t=m==="minus"?-e.step:+e.step,l=s(me(+a.value,t));r(l),u(m)},k=t=>{const l=t.target,{value:d}=l,{decimalLength:_}=e;let b=ee(String(d),!e.integer);if(z(_)&&b.includes(".")){const j=b.split(".");b=`${j[0]}.${j[1].slice(0,+_)}`}e.beforeChange?l.value=String(a.value):O(d,b)||(l.value=b);const F=b===String(+b);r(F?+b:b)},T=t=>{var l;e.disableInput?(l=g.value)==null||l.blur():u("focus",t)},C=t=>{const l=t.target,d=s(l.value,e.autoFixed);l.value=String(d),a.value=d,de(()=>{u("blur",t),fe()})};let V,I;const M=()=>{I=setTimeout(()=>{x(),M()},We)},R=()=>{e.longPress&&(V=!1,clearTimeout(I),I=setTimeout(()=>{V=!0,x(),M()},xe))},$=t=>{e.longPress&&(clearTimeout(I),V&&H(t))},p=t=>{e.disableInput&&H(t)},L=t=>({onClick:l=>{H(l),m=t,x()},onTouchstartPassive:()=>{m=t,R()},onTouchend:$,onTouchcancel:$});return N(()=>[e.max,e.min,e.integer,e.decimalLength],i),N(()=>e.modelValue,t=>{O(t,a.value)||(a.value=s(t))}),N(a,t=>{u("update:modelValue",t),u("change",t,{name:e.name})}),Q(()=>e.modelValue),()=>f("div",{role:"group",class:D([e.theme])},[K(f("button",q({type:"button",style:o.value,class:[D("minus",{disabled:n.value}),{[te]:!n.value}],"aria-disabled":n.value||void 0},L("minus")),null),[[X,e.showMinus]]),K(f("input",{ref:g,type:e.integer?"tel":"text",role:"spinbutton",class:D("input"),value:a.value,style:v.value,disabled:e.disabled,readonly:e.disableInput,inputmode:e.integer?"numeric":"decimal",placeholder:e.placeholder,"aria-valuemax":e.max,"aria-valuemin":e.min,"aria-valuenow":a.value,onBlur:C,onInput:k,onFocus:T,onMousedown:p},null),[[X,e.showInput]]),K(f("button",q({type:"button",style:o.value,class:[D("plus",{disabled:h.value}),{[te]:!h.value}],"aria-disabled":h.value||void 0},L("plus")),null),[[X,e.showPlus]])])}});const Ze=G(Ge),[Me,S,Re]=W("submit-bar"),pe={tip:String,label:String,price:Number,tipIcon:String,loading:Boolean,currency:Y("Â¥"),disabled:Boolean,textAlign:String,buttonText:String,buttonType:Y("danger"),buttonColor:String,suffixLabel:String,placeholder:Boolean,decimalLength:B(2),safeAreaInsetBottom:y};var Fe=A({name:Me,props:pe,emits:["submit"],setup(e,{emit:u,slots:s}){const c=E(),m=ye(c,S),g=()=>{const{price:o,label:i,currency:r,textAlign:x,suffixLabel:k,decimalLength:T}=e;if(typeof o=="number"){const C=(o/100).toFixed(+T).split("."),V=T?`.${C[1]}`:"";return f("div",{class:S("text"),style:{textAlign:x}},[f("span",null,[i||Re("label")]),f("span",{class:S("price")},[r,f("span",{class:S("price-integer")},[C[0]]),V]),k&&f("span",{class:S("suffix-label")},[k])])}},a=()=>{var o;const{tip:i,tipIcon:r}=e;if(s.tip||i)return f("div",{class:S("tip")},[r&&f(ke,{class:S("tip-icon"),name:r},null),i&&f("span",{class:S("tip-text")},[i]),(o=s.tip)==null?void 0:o.call(s)])},n=()=>u("submit"),h=()=>s.button?s.button():f(Ve,{round:!0,type:e.buttonType,text:e.buttonText,class:S("button",e.buttonType),color:e.buttonColor,loading:e.loading,disabled:e.disabled,onClick:n},null),v=()=>{var o,i;return f("div",{ref:c,class:[S(),{"van-safe-area-bottom":e.safeAreaInsetBottom}]},[(o=s.top)==null?void 0:o.call(s),a(),f("div",{class:S("bar")},[(i=s.default)==null?void 0:i.call(s),g(),h()])])};return()=>e.placeholder?m(v):v()}});const je=G(Fe),[De,U]=W("swipe-cell"),Oe={name:B(""),disabled:Boolean,leftWidth:P,rightWidth:P,beforeClose:Function,stopPropagation:Boolean};var He=A({name:De,props:Oe,emits:["open","close","click"],setup(e,{emit:u,slots:s}){let c,m,g,a;const n=E(),h=E(),v=E(),o=he({offset:0,dragging:!1}),i=Ce(),r=t=>t.value?ve(t).width:0,x=w(()=>z(e.leftWidth)?+e.leftWidth:r(h)),k=w(()=>z(e.rightWidth)?+e.rightWidth:r(v)),T=t=>{o.offset=t==="left"?x.value:-k.value,c||(c=!0,u("open",{name:e.name,position:t}))},C=t=>{o.offset=0,c&&(c=!1,u("close",{name:e.name,position:t}))},V=t=>{const l=Math.abs(o.offset),d=.15,_=c?1-d:d,b=t==="left"?x.value:k.value;b&&l>b*_?T(t):C(t)},I=t=>{e.disabled||(g=o.offset,i.start(t))},M=t=>{if(e.disabled)return;const{deltaX:l}=i;i.move(t),i.isHorizontal()&&(m=!0,o.dragging=!0,(!c||l.value*g<0)&&H(t,e.stopPropagation),o.offset=Se(l.value+g,-k.value,x.value))},R=()=>{o.dragging&&(o.dragging=!1,V(o.offset>0?"left":"right"),setTimeout(()=>{m=!1},0))},$=(t="outside")=>{a||(u("click",t),c&&!m&&(a=!0,ne(e.beforeClose,{args:[{name:e.name,position:t}],done:()=>{a=!1,C(t)},canceled:()=>a=!1,error:()=>a=!1})))},p=(t,l)=>d=>{l&&d.stopPropagation(),$(t)},L=(t,l)=>{const d=s[t];if(d)return f("div",{ref:l,class:U(t),onClick:p(t,!0)},[d()])};return Z({open:T,close:C}),ge(n,()=>$("outside"),{eventName:"touchstart"}),be("touchmove",M,{target:n}),()=>{var t;const l={transform:`translate3d(${o.offset}px, 0, 0)`,transitionDuration:o.dragging?"0s":".6s"};return f("div",{ref:n,class:U(),onClick:p("cell",m),onTouchstartPassive:I,onTouchend:R,onTouchcancel:R},[f("div",{class:U("wrapper"),style:l},[L("left",h),(t=s.default)==null?void 0:t.call(s),L("right",v)])])}}});const Je=G(He);export{qe as C,Je as S,Ze as a,je as b,Qe as c};
