import{s as f}from"./SimpleHeader-d42a7f83.js";import{b as _}from"./address-4a88397d.js";import{ay as A,u as y,r as h,ae as x,o as a,e as I,a as V,ax as k,au as m}from"./_plugin-vue_export-helper-cae794e0.js";import{A as v}from"./index-773aad48.js";import"./index-cb802f07.js";import"./index-968a7cf8.js";import"./use-route-7443569a.js";import"./index-f7760dca.js";import"./index-6b0f6e36.js";import"./Checker-e857c1e9.js";const g={class:"address-box"},N={class:"address-item"},H={__name:"Address",setup(b){var i;const t=A(),o=y(),s=h({chosenAddressId:"1",list:[],from:((i=t==null?void 0:t.query)==null?void 0:i.from)??""});x(()=>{c()});const c=async()=>{const{data:d}=await _();if(!d){s.list=[];return}s.list=d.map(e=>({id:e.addressId,name:e.userName,tel:e.userPhone,address:`${e.provinceName} ${e.cityName} ${e.regionName} ${e.detailAddress}`,isDefault:!!e.defaultFlag}))},n=()=>{o.push({path:"address-edit",query:{type:"add",from:s.from}})},l=d=>{o.push({path:"address-edit",query:{type:"edit",addressId:d.id,from:s.from}})},p=(d,e)=>{o.push({path:"create-order",query:{addressId:d.id,from:s.from}})};return(d,e)=>{const u=v;return a(),I("div",g,[V(f,{name:"地址管理",back:s.from=="create-order"?"":"/user"},null,8,["back"]),k("div",N,[s.from!="mine"?(a(),m(u,{key:0,modelValue:s.chosenAddressId,"onUpdate:modelValue":e[0]||(e[0]=r=>s.chosenAddressId=r),list:s.list,"default-tag-text":"默认",onAdd:n,onEdit:l,onSelect:p},null,8,["modelValue","list"])):(a(),m(u,{key:1,modelValue:s.chosenAddressId,"onUpdate:modelValue":e[1]||(e[1]=r=>s.chosenAddressId=r),list:s.list,"default-tag-text":"默认",onAdd:n,onEdit:l},null,8,["modelValue","list"]))])])}}};export{H as default};
