import{ay as b,u as B,r as I,ae as L,Q as S,o as r,e as m,a as s,ax as t,av as d,aE as c,F as T,aw as A,au as D,f as g}from"./_plugin-vue_export-helper-d298c33c.js";import{G as N,J as H,b as M,S as P,K as v,y as $}from"./index-7f6e4180.js";import"./index-01d1d77d.js";/* empty css              */import{a as E}from"./good-ba4613d5.js";import{s as F}from"./SimpleHeader-677300a3.js";import{A as R}from"./index-6b3d666b.js";import{A as V,a as q}from"./index-a3128e0a.js";import"./use-placeholder-23eb8df0.js";import"./index-7404f0cb.js";const G={class:"product-detail"},J={class:"detail-content"},K={class:"detail-swipe-wrap"},Q=["src"],j={class:"product-info"},z={class:"product-title"},O={class:"product-desc"},U={class:"product-price"},W={class:"product-intro"},X=t("ul",null,[t("li",null,"概述"),t("li",null,"参数"),t("li",null,"安装服务"),t("li",null,"常见问题")],-1),Y=["innerHTML"],lt={__name:"ProductDetail",setup(Z){const C=b(),l=B(),n=N(),o=I({detail:{goodsCarouselList:[]}});L(async()=>{const{id:a}=C.params,{data:e}=await E(a);e.goodsCarouselList=e.goodsCarouselList.map(i=>H(i)),o.detail=e,n.updateCart()}),S(()=>{const a=document.querySelector(".detail-content");a.scrollTop=0});const h=()=>{l.push({path:"/cart"})},f=async()=>{const{resultCode:a}=await v({goodsCount:1,goodsId:o.detail.goodsId});a==200&&$("添加成功"),n.updateCart()},w=async()=>{await v({goodsCount:1,goodsId:o.detail.goodsId}),n.updateCart(),l.push({path:"/cart"})};return(a,e)=>{const i=M,x=P,u=R,_=V,y=q;return r(),m("div",G,[s(F,{name:"商品详情"}),t("div",J,[t("div",K,[s(x,{class:"my-swipe","indicator-color":"#1baeae"},{default:d(()=>[(r(!0),m(T,null,A(o.detail.goodsCarouselList,(p,k)=>(r(),D(i,{key:k},{default:d(()=>[t("img",{src:p,alt:""},null,8,Q)]),_:2},1024))),128))]),_:1})]),t("div",j,[t("div",z,c(o.detail.goodsName||""),1),t("div",O,c(o.detail.goodsIntro||"免邮费 顺丰快递"),1),t("div",U,[t("span",null,"¥"+c(o.detail.sellingPrice||""),1),t("span",null,"库存"+c(o.detail.stockNum),1)])]),t("div",W,[X,t("div",{class:"product-content",innerHTML:o.detail.goodsDetailContent||""},null,8,Y)])]),s(y,null,{default:d(()=>[s(u,{icon:"chat-o",text:"客服"}),s(u,{icon:"cart-o",badge:g(n).count?g(n).count:"",onClick:e[0]||(e[0]=p=>h()),text:"购物车"},null,8,["badge"]),s(_,{type:"warning",onClick:f,text:"加入购物车"}),s(_,{type:"danger",onClick:w,text:"立即购买"})]),_:1})])}}};export{lt as default};
